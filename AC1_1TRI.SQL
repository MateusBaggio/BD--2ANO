Uma empresa de tecnologia vende computadores personalizados aos seus clientes. Estes
podem escolher individualmente cada componente do computador. Crie um banco de dados
capaz de controlar PEÇAS (como gabinetes, processadores, placas de vídeo e outros),
CLIENTES e COMPUTADORES (conjunto de peças escolhidas por cada cliente).
Com base nessas informações, crie as tabelas (os campos devem ser criados pelo aluno) e as
relações adequadas.
Insira pelo menos 5 registros em cada tabela.
Crie as consultas (SELECTs):
• Todos os computadores e todos os clientes;
• Todos os computadores adquiridos por um cliente específico;
• Todos os computadores que possuem uma determinada peça específica (sem dados do
cliente que a comprou);
• Exiba os dados do computador e do cliente que adquiriu um computador específico;
• Os dados dos clientes que já adquiriram computadores com uma peça específica

create database LOJA

use loja

CREATE TABLE CLIENTES(
	IDCLIENTE INT PRIMARY KEY IDENTITY(1,1),
	NOME VARCHAR(100) NOT NULL,
	CPF CHAR(11) NOT NULL
)

CREATE TABLE COMPUTADORES(
	IDCOMPUTADOR INT PRIMARY KEY IDENTITY (1,1),
	IDCLIENTE INT NOT NULL,
	CONSTRAINT FK_COMPUTADORES_CLIENTES FOREIGN KEY (IDCLIENTE)
	REFERENCES CLIENTES(IDCLIENTE)
)

CREATE TABLE COMPONENTES(
	IDCOMPONENTE INT PRIMARY KEY IDENTITY (1,1),
	NOME_COMPONENTE VARCHAR(50) NOT NULL
)

CREATE TABLE COMPUTADOR_COMPONENTES(
	ID INT PRIMARY KEY IDENTITY(1,1),
	IDCOMPUTADOR INT,
	IDCOMPONENTE INT,
	CONSTRAINT FK_COMPUTADOR_COMPONENTES FOREIGN KEY (IDCOMPUTADOR)
	REFERENCES COMPUTADORES(IDCOMPUTADOR),
	CONSTRAINT FK_COMPONENTES_COMPUTADORES FOREIGN KEY (IDCOMPONENTE)
	REFERENCES COMPONENTES(IDCOMPONENTE)
)

INSERT INTO CLIENTES (NOME, CPF) VALUES ('MARIA CLARA','81263001084')
INSERT INTO CLIENTES (NOME, CPF) VALUES ('GETULIO VARGAS','65659920020')
INSERT INTO CLIENTES (NOME, CPF) VALUES ('ABNER AUGUSTO','16370410047')
INSERT INTO CLIENTES (NOME, CPF) VALUES ('MAURO FREITAS','43706349035')
INSERT INTO CLIENTES (NOME, CPF) VALUES ('ARTHUR MOREIRA','89994380079')

INSERT INTO COMPUTADORES (IDCLIENTE) VALUES (1)
INSERT INTO COMPUTADORES (IDCLIENTE) VALUES (2)
INSERT INTO COMPUTADORES (IDCLIENTE) VALUES (3)
INSERT INTO COMPUTADORES (IDCLIENTE) VALUES (4)
INSERT INTO COMPUTADORES (IDCLIENTE) VALUES (5)
INSERT INTO COMPUTADORES (IDCLIENTE) VALUES (1)

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('PLACA DE VIDEO 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('PLACA DE VIDEO 2')

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('PLACA MÃE 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('PLACA MÃE 2')

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('HD 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('HD 2')

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('MEMORIA RAM 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('MEMORIA RAM 2')

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('GABINETE 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('GABINETE 2')

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('VENTOINHAS 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('VENTOINHAS 2')

INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('FONTE 1')
INSERT INTO COMPONENTES (NOME_COMPONENTE) VALUES('FONTE 2')


INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,1)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,3)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,5)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,7)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,9)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,11)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (1,13)

INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,2)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,4)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,6)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,8)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,10)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,12)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,14)

INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (3,1)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (3,4)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (2,7)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (3,9)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (3,11)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (3,13)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (3,2)

INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,2)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,10)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,12)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,3)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,5)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,7)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (4,9)

INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,2)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,4)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,6)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,8)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,9)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,10)
INSERT INTO COMPUTADOR_COMPONENTES (IDCOMPUTADOR,IDCOMPONENTE) VALUES (5,12)


--1
SELECT CLIENTES.IDCLIENTE, CLIENTES.NOME AS NOME_CLIENTE, COMPUTADORES.IDCOMPUTADOR FROM CLIENTES
INNER JOIN COMPUTADORES ON CLIENTES.IDCLIENTE = COMPUTADORES.IDCLIENTE
--2
SELECT CLIENTES.IDCLIENTE, CLIENTES.NOME AS NOME_CLIENTE, COMPUTADORES.IDCOMPUTADOR FROM CLIENTES
INNER JOIN COMPUTADORES ON CLIENTES.IDCLIENTE = COMPUTADORES.IDCLIENTE
WHERE CLIENTES.NOME = 'MARIA CLARA'
--3
SELECT DISTINCT COMPUTADORES.IDCOMPUTADOR, COMPONENTES.NOME_COMPONENTE FROM COMPUTADORES
INNER JOIN COMPUTADOR_COMPONENTES ON COMPUTADORES.IDCOMPUTADOR = COMPUTADOR_COMPONENTES.IDCOMPUTADOR
INNER JOIN COMPONENTES ON COMPUTADOR_COMPONENTES.IDCOMPONENTE = COMPONENTES.IDCOMPONENTE
WHERE COMPONENTES.NOME_COMPONENTE = 'PLACA DE VIDEO 1'

--DISTINCT REMOVE AS REPETIÇÕES

--4
SELECT CLIENTES.IDCLIENTE, CLIENTES.NOME AS NOME_CLIENTE, CLIENTES.CPF, COMPUTADORES.IDCOMPUTADOR, COMPONENTES.NOME_COMPONENTE FROM CLIENTES
INNER JOIN COMPUTADORES ON CLIENTES.IDCLIENTE = COMPUTADORES.IDCLIENTE
INNER JOIN COMPUTADOR_COMPONENTES ON COMPUTADORES.IDCOMPUTADOR = COMPUTADOR_COMPONENTES.IDCOMPUTADOR
INNER JOIN COMPONENTES ON COMPUTADOR_COMPONENTES.IDCOMPONENTE = COMPONENTES.IDCOMPONENTE
WHERE COMPUTADORES.IDCOMPUTADOR = 1;

--5
SELECT CLIENTES.IDCLIENTE, CLIENTES.NOME AS NOME_CLIENTE, CLIENTES.CPF, COMPUTADORES.IDCOMPUTADOR, COMPONENTES.NOME_COMPONENTE FROM CLIENTES
INNER JOIN COMPUTADORES ON CLIENTES.IDCLIENTE = COMPUTADORES.IDCLIENTE
INNER JOIN COMPUTADOR_COMPONENTES ON COMPUTADORES.IDCOMPUTADOR = COMPUTADOR_COMPONENTES.IDCOMPUTADOR
INNER JOIN COMPONENTES ON COMPUTADOR_COMPONENTES.IDCOMPONENTE = COMPONENTES.IDCOMPONENTE
WHERE COMPONENTES.NOME_COMPONENTE = 'PLACA MÃE 2';
